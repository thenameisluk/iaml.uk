<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <canvas id="c" height="200" width="1000"></canvas>
    <script>
        var canv = document.getElementById("c").getContext("2d");
        canv.fillStyle = "black";
        
        var r = [];
        var scaller = 10;
        var p = 7;
        for(var i = 0;i<99;i++){
            p += scaller*(((Math.random()*10000)%1)-p/20);
            r.push(p)
        }
        canv.fillRect(0,0,1000,200);
        canv.lineWidth = 8;
        for(var i = 0;i<100;i++){
            if(r[i]*10>r[i-1]*10){
                canv.strokeStyle = "green"
            }else{
                canv.strokeStyle = "red"
            }
            canv.beginPath();
            try{
               canv.moveTo(10*i, 200-(r[i-1]*10));
            }catch{
                canv.moveTo(10*i, 200-(r[0]*10));
            }
            
            
            canv.lineTo(i*10,200-(r[i]*10));
            canv.stroke();
            
            
        }
        var fr = 0;
        function regen(){
            fr++;
            canv.fillRect(0,0,1000,200);
            p += scaller*(((Math.random()*10000)%1)-p/20);
            r.push(p);
            for(var i = fr;i<100+fr;i++){
            if(r[i]*10>r[i-1]*10){
                canv.strokeStyle = "green"
            }else{
                canv.strokeStyle = "red"
            }
            canv.beginPath();
            try{
               canv.moveTo(10*(i-fr), 200-(r[i-1]*10));
            }catch{
                canv.moveTo(10*(i-fr), 200-(r[0]*10));
            }
            
            
            canv.lineTo((i-fr)*10,200-(r[i]*10));
            canv.stroke();
            
        }
        
        }
        setInterval(regen, 100);
    </script>
</body>
</html>